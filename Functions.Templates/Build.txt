<Target Name="Clean" BeforeTargets="PrepareForBuild">
  </Target>
  <Target Name="PortalTemplatesPkg">
    <Exec Command="..\tools\nuget.exe pack .\bin\Portal\temp\PortalTemplates.nuspec -Version $(TemplateVersion) -OutputDirectory .\bin\Portal\temp\nuget\" />
    <Copy SourceFiles=".\bin\Portal\temp\nuget\Azure.Functions.Ux.Templates.$(TemplateVersion).nupkg" DestinationFiles=".\bin\Portal\Nuget\Azure.Functions.Ux.Templates.$(TemplateVersion).nupkg" />
  </Target>
  <Target Name="ExtensionBundleTemplatesPkg">
    <Exec Command="..\tools\nuget.exe pack .\bin\ExtensionBundle\temp\ExtensionBundleTemplates-1.x.nuspec -Version $(TemplateVersion) -OutputDirectory .\bin\ExtensionBundle-1.x\temp\nuget\" />
    <Exec Command="..\tools\nuget.exe pack .\bin\ExtensionBundle\temp\ExtensionBundleTemplates-2.x.nuspec -Version $(TemplateVersion) -OutputDirectory .\bin\ExtensionBundle-2.x\temp\nuget\" />
    <Copy SourceFiles=".\bin\ExtensionBundle-1.x\temp\nuget\Microsoft.Azure.Functions.ExtensionBundle.Templates-1.x.$(TemplateVersion).nupkg" DestinationFiles=".\bin\ExtensionBundle-1.x\Nuget\Microsoft.Azure.Functions.ExtensionBundle.Templates-1.x.$(TemplateVersion).nupkg" />
    <Copy SourceFiles=".\bin\ExtensionBundle-2.x\temp\nuget\Microsoft.Azure.Functions.ExtensionBundle.Templates-2.x.$(TemplateVersion).nupkg" DestinationFiles=".\bin\ExtensionBundle-2.x\Nuget\Microsoft.Azure.Functions.ExtensionBundle.Templates-2.x.$(TemplateVersion).nupkg" />
  </Target>  
  <Target Name="VisualStudioTemplates">
    <Exec Condition="'$(TemplateVersion)' != ''" Command="..\tools\nuget.exe pack .\bin\VS\temp\ItemTemplates.nuspec -Version $(TemplateVersion) -OutputDirectory .\bin\VS\Release\" />
    <Exec Condition="'$(TemplateVersion)' != ''" Command="..\tools\nuget.exe pack .\ProjectTemplates.nuspec -Version $(TemplateVersion) -OutputDirectory .\bin\VS\Release\" />
  </Target>